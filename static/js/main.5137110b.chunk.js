(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(53)},29:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),s=a.n(c),o=a(2),i=a.n(o),l=a(4),u=a(3),m=a(5),d=a(16),f=a.n(d),p=(a(29),a(6)),h=a.n(p),g=Math.ceil(1e3/30),v=function(){var e=Object(l.a)(i.a.mark(function e(t,a){var n,r,c,s,o,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.github.com/search/users?q=".concat(t),a&&a>1&&(n+="&page=".concat(a)),e.next=4,h.a.get(n);case 4:if(!(r=e.sent)||!r.data){e.next=12;break}return c=r.data,s=c.total_count,o=c.items,l=1,s>30&&(l=s>1e3?g:Math.ceil(s/30)),e.abrupt("return",{pageCount:l,currentPage:a,total_count:s,items:o});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),E=(a(49),function(e){var t=e.onSearch,a=e.loading,c=Object(n.useRef)(null);return r.a.createElement("form",{className:"search-wrapper",onSubmit:function(e){e.preventDefault();var a=c.current.value;a&&t(a)}},r.a.createElement("input",{type:"search","aria-label":"Search Github Users",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"user-search",disabled:a,placeholder:"Search Github Users",ref:c}),r.a.createElement("button",{className:"btn search-btn",disabled:a,type:"submit"},"Search"))}),b=(a(50),a(51),function(e){var t=e.url,a=e.link,c=e.altText,s=Object(n.useState)(!1),o=Object(u.a)(s,2),i=(o[0],o[1]),l=Object(n.useState)(!1),m=Object(u.a)(l,2),d=(m[0],m[1]);return r.a.createElement("a",{className:"avatar-wrapper",href:a,target:"_blank"},r.a.createElement("img",{className:"avatar",src:t,alt:c,width:50,onLoad:function(){return i(!0)},onError:function(){return d(!0)}}))}),w=(a(52),function(e){var t=e.user,a=Object(n.useState)(null),c=Object(u.a)(a,2),s=c[0],o=c[1],i=Object(n.useContext)(L),l=i.dispatch,m=i.rateLimitExceeded;return Object(n.useEffect)(function(){t&&!m&&h.a.get(t.url).then(function(e){return o(e.data)}).catch(function(e){if(403===e.response.status){var t=e.response.headers;if(0===parseInt(t["x-ratelimit-remaining"])&&t["x-ratelimit-reset"]){var a=1e3*parseInt(t["x-ratelimit-reset"])-Date.now();console.debug("%c[RATE_LIMIT] Oops, made too many API calls. We'll have to wait another ".concat((a/6e4).toFixed(1)," minutes before trying again"),"color: magenta;"),l({type:N.RateLimitExceeded,payload:!0})}}})},[t,m,l]),r.a.createElement("div",{className:"user-info ".concat(m?"show-less":"")},r.a.createElement("div",{className:"flex"},r.a.createElement("h4",{className:"username",title:t.login},r.a.createElement("a",{className:"user-link",href:t.html_url,target:"_blank"},t.login)),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"user-desc",title:s.name},s.name))),s&&r.a.createElement("div",{className:"flex"},s.location&&r.a.createElement("div",{className:"flex user-location"},r.a.createElement("svg",{className:"octicon octicon-location",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M6 0C2.69 0 0 2.5 0 5.5 0 10.02 6 16 6 16s6-5.98 6-10.5C12 2.5 9.31 0 6 0zm0 14.55C4.14 12.52 1 8.44 1 5.5 1 3.02 3.25 1 6 1c1.34 0 2.61.48 3.56 1.36.92.86 1.44 1.97 1.44 3.14 0 2.94-3.14 7.02-5 9.05zM8 5.5c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"})),r.a.createElement("span",null,s.location)),s.bio&&r.a.createElement("div",{className:"flex"},r.a.createElement("span",null,s.bio)),s.email&&r.a.createElement("div",{className:"flex"},r.a.createElement("svg",{className:"octicon octicon-mail",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z"})),r.a.createElement("span",null,s.email))))}),x=function(e){var t=e.users;return r.a.createElement("div",{className:"list-wrapper"},r.a.createElement("ul",{className:"user-list"},t.map(function(e){return r.a.createElement("li",{key:e.id,className:"user-list-item"},r.a.createElement(b,{url:e.avatar_url+"&size=50",link:e.html_url,altText:e.login,title:e.login}),r.a.createElement(w,{user:e}))})))},N={SetIsLoading:0,SetResults:1,FailedUserFetch:2,SetPage:3,RateLimitExceeded:4},y=function(e,t){var a=t.type,n=t.payload;switch(a){case N.SetIsLoading:return Object(m.a)({},e,{isLoading:n});case N.FailedUserFetch:return Object(m.a)({},e,{error:!0,isLoading:!1,failedToLoadMsg:n});case N.SetResults:return Object(m.a)({},e,{isLoading:!1,users:n.items,total:n.total_count,pageCount:n.pageCount,currentPage:n.currentPage});case N.RateLimitExceeded:return Object(m.a)({},e,{rateLimitExceeded:!0});default:return e}},L=Object(n.createContext)(null),O=function(){var e=Object(n.useReducer)(y,{}),t=Object(u.a)(e,2),a=t[0],c=t[1],s=a.users,o=a.isLoading,m=a.total,d=a.currentPage,p=a.pageCount,h=a.failedToLoadMsg,g=a.rateLimitExceeded,b=Object(n.useRef)(""),w=m>1e3,O=function(){var e=Object(l.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:N.SetIsLoading,payload:!0}),e.prev=1,e.next=4,v(b.current,t);case 4:a=e.sent,c({type:N.SetResults,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:N.FailedUserFetch,payload:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b.current=t.replace(/\s/g,"+"),O(1);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(L.Provider,{value:{dispatch:c,rateLimitExceeded:g}},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"fixed-top-row"},r.a.createElement(E,{onSearch:j,loading:o}),void 0!==m&&r.a.createElement("h3",null,0===m?"Sorry! No users found :(":function(){if(1===m)return"Found 1 User";if(m<=30)return"Found ".concat(m," Users");if(1===d)return"Showing First ".concat(30," of ").concat(w?"1000+":m," Found Users");if(!w&&d===p){var e=m-s.length+1;return"Showing Users ".concat(e," - ").concat(m," of ").concat(m," Found Users")}return"Showing Users ".concat(30*(d-1)+1," - ").concat(30*d," of ").concat(w?"1000+":m," Found Users")}())),!!m&&r.a.createElement(x,{total:m>1e3?1e3:m,exceededUsersLimit:m>1e3,users:s,currentPage:d,pageCount:p,goToPage:O}),h&&r.a.createElement("h3",{className:"error-msg"},h),g&&r.a.createElement("h3",{className:"error-msg"},"API Rate limit has been exceeded. Only usernames and avatars will be shown for now."),m>30&&r.a.createElement(f.a,{activeClassName:"current",activeLinkClassName:"focused",containerClassName:"paginated-nav",pageCount:p,pageRangeDisplayed:1,marginPagesDisplayed:3,onPageChange:function(e){var t=e.selected;return O(t+1)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.5137110b.chunk.js.map