(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(53)},29:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),s=a(2),i=a.n(s),l=a(3),u=a(6),d=a(4),m=a(16),f=a.n(m),p=(a(29),a(5)),h=a.n(p),g=Math.ceil(1e3/30),v=function(){var e=Object(l.a)(i.a.mark(function e(t,a){var n,r,c,o,s,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.github.com/search/users?q=".concat(t),a&&a>1&&(n+="&page=".concat(a)),e.next=4,h.a.get(n);case 4:if(!(r=e.sent)||!r.data){e.next=12;break}return c=r.data,o=c.total_count,s=c.items,l=1,o>30&&(l=o>1e3?g:Math.ceil(o/30)),e.abrupt("return",{pageCount:l,currentPage:a,total_count:o,items:s});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),b=(a(49),function(e){var t=e.onSearch,a=e.loading,c=Object(n.useRef)(null);return r.a.createElement("form",{className:"search-wrapper",onSubmit:function(e){e.preventDefault();var a=c.current.value;a&&t(a)}},r.a.createElement("input",{type:"search","aria-label":"Search Github Users",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"user-search",disabled:a,placeholder:"Search Github Users",ref:c}),r.a.createElement("button",{className:"btn search-btn",disabled:a,type:"submit"},"Search"))}),w=(a(50),a(51),function(e){var t=e.url,a=e.link,n=e.altText;return r.a.createElement("a",{className:"avatar-wrapper",href:a,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"avatar",src:t,alt:n,width:50}))}),E=(a(52),function(e){var t=e.user,a=Object(n.useState)(null),c=Object(u.a)(a,2),o=c[0],s=c[1],i=Object(n.useContext)(k),l=i.dispatch,d=i.rateLimitExceeded;return Object(n.useEffect)(function(){t&&!d&&h.a.get(t.url).then(function(e){return s(e.data)}).catch(function(e){if(403===e.response.status){var t=e.response.headers;if(0===parseInt(t["x-ratelimit-remaining"])&&t["x-ratelimit-reset"]){var a=1e3*parseInt(t["x-ratelimit-reset"])-Date.now();console.debug("%c[RATE_LIMIT] Oops, made too many API calls. We'll have to wait another ".concat((a/6e4).toFixed(1)," minutes before trying again"),"color: magenta;"),l({type:y.RateLimitExceeded,payload:!0})}}})},[t,d,l]),r.a.createElement("div",{className:"user-info ".concat(d?"show-less":"")},r.a.createElement("h4",{className:"flex user-title-block"},r.a.createElement("span",{className:"username",title:t.login},r.a.createElement("a",{className:"user-link",href:t.html_url,target:"_blank",rel:"noopener noreferrer"},t.login)),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"user-desc",title:o.name},o.name))),o&&o.bio&&r.a.createElement("p",{className:"user-bio"},r.a.createElement("span",null,o.bio)),o&&r.a.createElement("div",{className:"flex user-extra-info"},o.location&&r.a.createElement("div",{className:"flex user-location"},r.a.createElement("svg",{className:"octicon octicon-location",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M6 0C2.69 0 0 2.5 0 5.5 0 10.02 6 16 6 16s6-5.98 6-10.5C12 2.5 9.31 0 6 0zm0 14.55C4.14 12.52 1 8.44 1 5.5 1 3.02 3.25 1 6 1c1.34 0 2.61.48 3.56 1.36.92.86 1.44 1.97 1.44 3.14 0 2.94-3.14 7.02-5 9.05zM8 5.5c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"})),r.a.createElement("span",null,o.location)),o.email&&r.a.createElement("div",{className:"flex"},r.a.createElement("svg",{className:"octicon octicon-mail",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z"})),r.a.createElement("span",null,o.email))))}),x=function(e){var t=e.users;return r.a.createElement("div",{className:"list-wrapper"},r.a.createElement("ul",{className:"user-list"},t.map(function(e){return r.a.createElement("li",{key:e.id,className:"user-list-item"},r.a.createElement(w,{url:e.avatar_url+"&size=50",link:e.html_url,altText:e.login,title:e.login}),r.a.createElement(E,{user:e}))})))},y={SetIsLoading:0,SetResults:1,FailedUserFetch:2,SetPage:3,RateLimitExceeded:4},N=function(e,t){var a=t.type,n=t.payload;switch(a){case y.SetIsLoading:return Object(d.a)({},e,{isLoading:n});case y.FailedUserFetch:return Object(d.a)({},e,{error:!0,isLoading:!1,failedToLoadMsg:n});case y.SetResults:return Object(d.a)({},e,{isLoading:!1,users:n.items,total:n.total_count,pageCount:n.pageCount,currentPage:n.currentPage});case y.RateLimitExceeded:return Object(d.a)({},e,{rateLimitExceeded:!0});default:return e}},k=Object(n.createContext)(null),L=function(){var e=Object(n.useReducer)(N,{}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=a.users,s=a.isLoading,d=a.total,m=a.currentPage,p=a.pageCount,h=a.failedToLoadMsg,g=a.rateLimitExceeded,w=Object(n.useRef)(""),E=d>1e3,L=function(){var e=Object(l.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:y.SetIsLoading,payload:!0}),e.prev=1,e.next=4,v(w.current,t);case 4:a=e.sent,c({type:y.SetResults,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:y.FailedUserFetch,payload:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.current=t.replace(/\s/g,"+"),L(1);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(k.Provider,{value:{dispatch:c,rateLimitExceeded:g}},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"fixed-top-row"},r.a.createElement(b,{onSearch:C,loading:s}),void 0!==d&&r.a.createElement("h3",null,0===d?"Sorry! No users found :(":function(){if(1===d)return"Found 1 User";if(d<=30)return"Found ".concat(d," Users");if(1===m)return"Showing First ".concat(30," of ").concat(E?"1000+":d," Found Users");if(!E&&m===p){var e=d-o.length+1;return"Showing Users ".concat(e," - ").concat(d," of ").concat(d," Found Users")}return"Showing Users ".concat(30*(m-1)+1," - ").concat(30*m," of ").concat(E?"1000+":d," Found Users")}())),!!d&&r.a.createElement(x,{total:E?1e3:d,exceededUsersLimit:E,users:o,currentPage:m,pageCount:p,goToPage:L}),h&&r.a.createElement("h3",{className:"error-msg"},h),g&&r.a.createElement("h3",{className:"error-msg"},"API Rate limit has been exceeded. Only usernames and avatars will be shown for now."),d>30&&r.a.createElement(f.a,{activeClassName:"current",activeLinkClassName:"focused",containerClassName:"paginated-nav",pageCount:p,pageRangeDisplayed:1,marginPagesDisplayed:3,onPageChange:function(e){var t=e.selected;return L(t+1)}})))},C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(L,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/github-user-search",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/github-user-search","/service-worker.js");C?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):S(t,e)})}}()}},[[17,1,2]]]);
//# sourceMappingURL=main.6ebbca82.chunk.js.map