(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,a,t){e.exports=t(53)},24:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(14),l=t.n(c),s=t(7),o=t.n(s),i=t(15),u=t(2),m=t(3),d=(t(24),t(4)),h=t.n(d),g=(t(44),function(e){var a=e.onSearch,t=e.loading,c=Object(n.useRef)(null);return r.a.createElement("form",{className:"search-wrapper",onSubmit:function(e){e.preventDefault();var t=c.current.value;t&&a(t)}},r.a.createElement("input",{type:"search","aria-label":"Search Github Users",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"user-search",disabled:t,placeholder:"Search Github Users",ref:c}),r.a.createElement("button",{className:"btn search-btn",disabled:t,type:"submit"},"Search"))}),p=(t(45),t(16)),f=t.n(p),v=(t(51),function(e){var a=e.url,t=e.link,c=e.altText,l=Object(n.useState)(!1),s=Object(u.a)(l,2),o=(s[0],s[1]),i=Object(n.useState)(!1),m=Object(u.a)(i,2),d=(m[0],m[1]);return r.a.createElement("a",{className:"avatar-wrapper",href:t,target:"_blank"},r.a.createElement("img",{className:"avatar",src:a,alt:c,width:50,onLoad:function(){return o(!0)},onError:function(){return d(!0)}}))}),E=(t(52),function(e){var a=e.user,t=Object(n.useState)(null),c=Object(u.a)(t,2),l=c[0],s=c[1],o=Object(n.useContext)(N),i=o.dispatch,m=o.rateLimitExceeded;return Object(n.useEffect)(function(){a&&!m&&h.a.get(a.url).then(function(e){return s(e.data)}).catch(function(e){if(403===e.response.status){var a=e.response.headers;if(0===parseInt(a["x-ratelimit-remaining"])&&a["x-ratelimit-reset"]){var t=1e3*parseInt(a["x-ratelimit-reset"])-Date.now();console.debug("%c[RATE_LIMIT] Oops, made too many API calls. We'll have to wait another ".concat((t/6e4).toFixed(1)," minutes before trying again"),"color: magenta; font-size: 16px"),i({type:w.RateLimitExceeded,payload:!0})}}})},[a,m,i]),r.a.createElement("div",{className:"user-info ".concat(m?"show-less":"")},r.a.createElement("div",{className:"flex"},r.a.createElement("h4",{className:"username",title:a.login},r.a.createElement("a",{className:"user-link",href:a.html_url,target:"_blank"},a.login)),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"user-desc",title:l.name},l.name))),l&&r.a.createElement("div",{className:"flex"},l.location&&r.a.createElement("div",{className:"flex user-location"},r.a.createElement("svg",{className:"octicon octicon-location",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M6 0C2.69 0 0 2.5 0 5.5 0 10.02 6 16 6 16s6-5.98 6-10.5C12 2.5 9.31 0 6 0zm0 14.55C4.14 12.52 1 8.44 1 5.5 1 3.02 3.25 1 6 1c1.34 0 2.61.48 3.56 1.36.92.86 1.44 1.97 1.44 3.14 0 2.94-3.14 7.02-5 9.05zM8 5.5c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"})),r.a.createElement("span",null,l.location)),l.bio&&r.a.createElement("div",{className:"flex"},r.a.createElement("span",null,l.bio)),l.email&&r.a.createElement("div",{className:"flex"},r.a.createElement("svg",{className:"octicon octicon-mail",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},r.a.createElement("path",{fillRule:"evenodd",d:"M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z"})),r.a.createElement("span",null,l.email))))}),b=function(e){var a=e.total,t=e.users,n=(e.currentPage,e.pageCount),c=e.goToPage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Found ",a," ",a>1?"Users":"User"),r.a.createElement("div",{className:"list-wrapper"},r.a.createElement("ul",{className:"user-list"},t.map(function(e){return r.a.createElement("li",{key:e.id,className:"user-list-item"},r.a.createElement(v,{url:e.avatar_url+"&size=50",link:e.html_url,altText:e.login,title:e.login}),r.a.createElement(E,{user:e}))})),a>t.length&&r.a.createElement(f.a,{activeClassName:"current",activeLinkClassName:"focused",containerClassName:"paginated-nav",pageCount:n,pageRangeDisplayed:5,onPageChange:c})))},w={SetIsLoading:0,SetResults:1,FailedUserFetch:2,SetPage:3,RateLimitExceeded:4},x=function(e,a){var t=a.type,n=a.payload;switch(t){case w.SetIsLoading:return Object(m.a)({},e,{isLoading:n});case w.FailedUserFetch:return Object(m.a)({},e,{error:!0,isLoading:!1,failedToLoadMsg:n});case w.SetResults:return Object(m.a)({},e,{isLoading:!1,users:n.items,total:n.total_count,pageCount:n.pageCount,currentPage:n.currentPage});case w.RateLimitExceeded:return Object(m.a)({},e,{rateLimitExceeded:!0});default:return e}},N=Object(n.createContext)(null),y=function(){var e=Object(n.useReducer)(x,{}),a=Object(u.a)(e,2),t=a[0],c=a[1],l=t.users,s=t.isLoading,m=t.total,d=t.currentPage,p=t.pageCount,f=t.failedToLoadMsg,v=t.rateLimitExceeded,E=function(){var e=Object(i.a)(o.a.mark(function e(a){var t,n,r,l,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:w.SetIsLoading,payload:!0}),e.prev=1,e.next=4,h.a.get("https://api.github.com/search/users?q=".concat(a.replace(/\s/g,"+")));case 4:(t=e.sent)&&t.data&&(n=t.data,r=n.total_count,l=n.items,s=1,r>l.length&&(s=Math.ceil(r/l.length)),c({type:w.SetResults,payload:{pageCount:s,currentPage:1,total_count:r,items:l}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:w.FailedUserFetch,payload:e.t0.message});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(N.Provider,{value:{dispatch:c,rateLimitExceeded:v}},r.a.createElement("div",{className:"App"},r.a.createElement(g,{onSearch:E,loading:s}),r.a.createElement("div",{className:"search-results"},0===m&&r.a.createElement("h3",null,"Sorry! No users found :("),!!m&&r.a.createElement(b,{total:m,users:l,currentPage:d,pageCount:p,goToPage:function(e){return c({type:w.SetPage,payload:e})}}),f&&r.a.createElement("h3",{className:"error-msg"},f),v&&r.a.createElement("h3",{className:"error-msg"},"API Rate limit has been exceeded. Only usernames and avatars will be shown for now."))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.7ca2b4ac.chunk.js.map